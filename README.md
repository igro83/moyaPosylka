# 📦 Проверка трек-номеров почты

## 🚀 Описание

Приложение для автоматической проверки статуса трек-номеров почты через API сервиса [Moyaposylka](https://moyaposylka.ru/). Поддерживает чтение трек-номеров из файла, выполнение HTTP-запросов к API, форматированный вывод результатов в виде таблицы, формирование файла csv с данными.

## 📦 Зависимости

```
toml[dependencies]
reqwest = { version = "0.11", features = ["json"] }
tokio = { version = "1", features = ["full"] }
serde = { version = "1.0", features = ["derive"] }
chrono = "0.4"
prettytable = "0.9"
clap = "4.0"
```

## 🛠️ Установка

* Убедитесь, что установлен Rust.
  Склонируйте репозиторий:

  ```bash
  git clone https://github.com/igro83/moyaPosylka.git
  cd moyaPosylka
  ```
* Соберите проект:

  ```bash
  cargo build --release
  ```

## 🧪 Использование

1. Подготовьте входные данные
   Создайте файл tracks.txt со списком трек-номеров:
    RP123456789RU
    CZ987654321PL
2. Получите API-ключ
   Зарегистрируйтесь на [Moyaposylka](https://moyaposylka.ru/) и получите API-ключ.
3. Запустите приложение

   ```bash
   ./moyaposylka --file tracks.txt --apikey ваш_api_key
   ```

## 📄 Примеры
   Вывод таблицы
┌────────────────┬───────────────┬───────────────┬───────────────────────────┬─────────────────────┐
│ Трек-номер     │ Дата доставки │ Получатель    │ Последний статус          │ Дата статуса        │
├────────────────┼───────────────┼───────────────┼───────────────────────────┼─────────────────────┤
│ 14082440302077 │ 25.07.2025    │ Игнатов Р. И. │ Arrived at pick-up point. │ 2025-07-21 17:22:54 │
└────────────────┴───────────────┴───────────────┴───────────────────────────┴─────────────────────┘

## Ошибки
Введён несуществующий трек-номер RP99999999999
Не удалось добавить трек-номер CZ00000000000 в лк.
## ⚠️ Важно
API-ограничения: Сервис Moyaposylka имеет лимиты на количество запросов в минуту (~100). При превышении может возникнуть ошибка 429 Too Many Requests.
Безопасность: Не храните API-ключи в коде. Используйте переменные окружения:
bash
export MOYAPOSYLKA_API_KEY="ваш_ключ"
Обработка ошибок: Приложение автоматически пытается добавить отсутствующие трек-номера в аккаунт пользователя.
📜 Лицензия
MIT License
Автор: Вася Пупкин vasya@example.com

🔄 Расширяемость
Идеи для улучшений:

Добавить поддержку других почтовых сервисов (DHL, FedEx).
Реализовать асинхронную обработку множественных запросов.
Интеграция с Google Sheets для автоматического обновления таблиц.

# Моя посылка
